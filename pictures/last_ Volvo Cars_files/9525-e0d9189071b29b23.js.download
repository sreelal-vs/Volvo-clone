(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9525],{34348:function(t,e,n){var r,i,a;a=function(t){"use strict";var e=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;function i(t,e,n){if("function"==typeof Array.prototype.map)return t.map(e,n);for(var r=Array(t.length),i=0;i<t.length;i++)r[i]=e.call(n,t[i]);return r}function a(t,e,n){if("function"==typeof Array.prototype.filter)return t.filter(e,n);for(var r=[],i=0;i<t.length;i++)e.call(n,t[i])&&r.push(t[i]);return r}return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(t.replace(/[\(\)]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return i(a(e.stack.split("\n"),function(t){return!!t.match(n)},this),function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop());return new t(n.join(" ")||void 0,void 0,function(t,e){if("function"==typeof Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return -1}(["eval","<anonymous>"],r[0])>-1?void 0:r[0],r[1],r[2],e)},this)},parseFFOrSafari:function(e){return i(a(e.stack.split("\n"),function(t){return!t.match(r)},this),function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t(e);var n=e.split("@"),r=this.extractLocation(n.pop());return new t(n.join("@")||void 0,void 0,r[0],r[1],r[2],e)},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),i=[],a=2,o=r.length;a<o;a+=2){var s=n.exec(r[a]);s&&i.push(new t(void 0,void 0,s[2],s[1],void 0,r[a]))}return i},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),i=[],a=0,o=r.length;a<o;a+=2){var s=n.exec(r[a]);s&&i.push(new t(s[3]||void 0,void 0,s[2],s[1],void 0,r[a]))}return i},parseOpera11:function(n){return i(a(n.stack.split("\n"),function(t){return!!t.match(e)&&!t.match(/^Error created at/)},this),function(e){var n,r=e.split("@"),i=this.extractLocation(r.pop()),a=r.shift()||"",o=a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;return a.match(/\(([^\)]*)\)/)&&(n=a.replace(/^[^\(]+\(([^\)]*)\)$/,"$1")),new t(o,void 0===n||"[arguments not available]"===n?void 0:n.split(","),i[0],i[1],i[2],e)},this)}}},r=[n(26796)],void 0!==(i=a.apply(e,r))&&(t.exports=i)},59525:function(t,e,n){"use strict";n.r(e),n.d(e,{ApmBase:function(){return ej},apm:function(){return eR},apmBase:function(){return eR},default:function(){return eA},init:function(){return eF}});var r,i=setTimeout;function a(t){return!!(t&&void 0!==t.length)}function o(){}function s(t){if(!(this instanceof s))throw TypeError("Promises must be constructed via new");if("function"!=typeof t)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function c(t,e){for(;3===t._state;)t=t._value;if(0===t._state){t._deferreds.push(e);return}t._handled=!0,s._immediateFn(function(){var n,r=1===t._state?e.onFulfilled:e.onRejected;if(null===r){(1===t._state?u:f)(e.promise,t._value);return}try{n=r(t._value)}catch(t){f(e.promise,t);return}u(e.promise,n)})}function u(t,e){try{if(e===t)throw TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof s){t._state=3,t._value=e,d(t);return}if("function"==typeof n){p(function(){n.apply(e,arguments)},t);return}}t._state=1,t._value=e,d(t)}catch(e){f(t,e)}}function f(t,e){t._state=2,t._value=e,d(t)}function d(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t(function(t){n||(n=!0,u(e,t))},function(t){n||(n=!0,f(e,t))})}catch(t){if(n)return;n=!0,f(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var n=new this.constructor(o);return c(this,new l(t,e,n)),n},s.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},s.all=function(t){return new s(function(e,n){if(!a(t))return n(TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var i=r.length,o=0;o<r.length;o++)!function t(a,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s){s.call(o,function(e){t(a,e)},n);return}}r[a]=o,0==--i&&e(r)}catch(t){n(t)}}(o,r[o])})},s.allSettled=function(t){return new this(function(e,n){if(!(t&&void 0!==t.length))return n(TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var i=r.length,a=0;a<r.length;a++)!function t(n,a){if(a&&("object"==typeof a||"function"==typeof a)){var o=a.then;if("function"==typeof o){o.call(a,function(e){t(n,e)},function(t){r[n]={status:"rejected",reason:t},0==--i&&e(r)});return}}r[n]={status:"fulfilled",value:a},0==--i&&e(r)}(a,r[a])})},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s(function(e){e(t)})},s.reject=function(t){return new s(function(e,n){n(t)})},s.race=function(t){return new s(function(e,n){if(!a(t))return n(TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)s.resolve(t[r]).then(e,n)})},s._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){i(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h={};m?h=window:"undefined"!=typeof self&&(h=self);for(var v=("Promise"in h)?h.Promise:s,g=[].slice,m="undefined"!=typeof window,y=m&&"undefined"!=typeof performance?performance:{},b=[],_=0;_<256;++_)b[_]=(_+256).toString(16).substr(1);var S=new Uint8Array(16);function T(t){return(function(t){for(var e=[],n=0;n<t.length;n++)e.push(b[t[n]]);return e.join("")})("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues(S):"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues?msCrypto.getRandomValues(S):S).substr(0,t)}function w(t,e,n){"function"==typeof t.setRequestHeader?t.setRequestHeader(e,n):t.headers&&"function"==typeof t.headers.append?t.headers.append(e,n):t[e]=n}function E(t,e){var n=!1;return"string"==typeof e?n=t===e:e&&"function"==typeof e.test?n=e.test(t):Array.isArray(e)&&e.forEach(function(e){n||(n=E(t,e))}),n}function x(t,e,n){if(n&&t){var r=R(t),i=typeof e;return void 0!=e&&"boolean"!==i&&"number"!==i&&(e=String(e)),n[r]=e,n}}function k(t){return t&&t.split("?")[0]}function I(t){return null!==t&&"object"==typeof t}function C(t,e,n){for(var r=0,i=e.length;r<i;++r){var a=e[r];if(I(a)||"function"==typeof a)for(var o=Object.keys(a),s=0,c=o.length;s<c;s++){var u=o[s],f=a[u];n&&I(f)?(I(t[u])||(t[u]=Array.isArray(f)?[]:{}),C(t[u],[f],!1)):t[u]=f}}return t}function O(t){return C(t,g.call(arguments,1),!1)}function L(t){return C(t,g.call(arguments,1),!0)}function N(t){return void 0===t}function j(){}function R(t){return t.replace(/[.*"]/g,"_")}function F(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r];e&&e(i.type)&&(!n||n._end<i._end)&&(n=i)}return n}function A(){return y.now()}function P(t){return"number"==typeof t&&t>=0?t:A()}function q(t,e){return N(e)||N(t)?null:parseInt(e-t)}function M(t){v.resolve().then(t)}function H(){return"function"==typeof y.getEntriesByType}function U(t){return"undefined"!=typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.indexOf(t)>=0}function z(){return"interactionCount"in performance}function B(t){return t.redirectStart>0}var D={fetchInProgress:!1};function V(t){return"__apm_symbol__"+t}function $(t,e,n){for(var r,i=t;i&&!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);!i&&t[e]&&(i=t);var a=V(e);if(i&&!(r=i[a])&&(r=i[a]=i[e],!(o=i&&Object.getOwnPropertyDescriptor(i,e))||!1!==o.writable&&!("function"==typeof o.get&&void 0===o.set))){var o,s,c,u=n(r,a,e);i[e]=function(){return u(this,arguments)},s=i[e],c=r,s[V("OriginalDelegate")]=c}return r}var J=V("xhrIgnore"),X=V("xhrSync"),G=V("xhrURL"),Z=V("xhrMethod"),Y="schedule",Q="invoke",W="addEventListener",K=["link","css","script","img","xmlhttprequest","fetch","beacon","iframe"],tt="page-load",te="custom",tn="user-interaction",tr="http-request",ti="temporary",ta="Unknown",to="page-exit",ts=[tt,"route-change",tn,tr,te,ti],tc="transaction:end",tu="config:change",tf="queue:flush",td="queue:add_transaction",tl="transaction:ignore",tp="xmlhttprequest",th="fetch",tv="history",tg="eventtarget",tm="click",ty="error",tb=":after",t_="elastic_apm_config",tS="longtask",tT="largest-contentful-paint",tw="first-input",tE="layout-shift",tx="errors",tk="transactions",tI="ConfigService",tC="LoggingService",tO="TransactionService",tL="ApmServer",tN="PerformanceMonitoring",tj="ErrorLogging",tR=".truncated";function tF(t){return 0!==t&&(!(t>399)||!(t<600))}function tA(){return(tA=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tP(){return"function"==typeof window.fetch&&"function"==typeof window.Request}var tq=function(){function t(){this.observers={}}var e=t.prototype;return e.observe=function(t,e){var n=this;if("function"==typeof e)return this.observers[t]||(this.observers[t]=[]),this.observers[t].push(e),function(){var r=n.observers[t].indexOf(e);r>-1&&n.observers[t].splice(r,1)}},e.sendOnly=function(t,e){var n=this.observers[t];n&&n.forEach(function(t){try{t.apply(void 0,e)}catch(t){console.log(t,t.stack)}})},e.send=function(t,e){this.sendOnly(t+":before",e),this.sendOnly(t,e),this.sendOnly(t+tb,e)},t}(),tM=new tq,tH=!1,tU={bootstrapTime:null,lastHiddenStart:Number.MIN_SAFE_INTEGER},tz=!1,tB=[["#","hash"],["?","query"],["/","path"],["@","auth",1],[NaN,"host",void 0,1]],tD=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,tV=function(){function t(t){var e,n=this.extractProtocol(t||""),r=n.protocol,i=n.address,a=n.slashes,o=!r&&!a,s=this.getLocation(),c=tB.slice();i=i.replace("\\","/"),a||(c[2]=[NaN,"path"]);for(var u=0;u<c.length;u++){var f=c[u],d=f[0],l=f[1];if("string"==typeof d){if(~(e=i.indexOf(d))){var p=f[2];p?(e=Math.max(e,i.lastIndexOf(d)),this[l]=i.slice(0,e),i=i.slice(e+p)):(this[l]=i.slice(e),i=i.slice(0,e))}}else this[l]=i,i="";this[l]=this[l]||o&&f[3]&&s[l]||"",f[3]&&(this[l]=this[l].toLowerCase())}if(o&&"/"!==this.path.charAt(0)&&(this.path="/"+this.path),this.relative=o,this.protocol=r||s.protocol,this.hostname=this.host,this.port="",/:\d+$/.test(this.host)){var h=this.host.split(":"),v=h.pop(),g=h.join(":");!function(t,e){switch(e){case"http:":return"80"===t;case"https:":return"443"===t}return!0}(v,this.protocol)?this.port=v:this.host=g,this.hostname=g}this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString()}var e=t.prototype;return e.toString=function(){var t=this.protocol;if(t+="//",this.auth){var e="[REDACTED]",n=this.auth.split(":");t+=(n[0]?e:"")+(n[1]?":"+e:"")+"@"}return t+(this.host+this.path+this.query+this.hash)},e.getLocation=function(){var t={};return m&&(t=window),t.location},e.extractProtocol=function(t){var e=tD.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],address:e[3]}},t}(),t$=["tags"];function tJ(t){var e=t.transferSize,n=t.encodedBodySize,r=t.decodedBodySize,i=t.serverTiming,a={transfer_size:e,encoded_body_size:n,decoded_body_size:r},o=function(t){void 0===t&&(t=[]);for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r.name,a=r.duration,o=r.description,s=i;o&&(s+=";desc="+o),a&&(s+=";dur="+a),e.push(s)}return e.join(", ")}(i);return o&&(a.headers={"server-timing":o}),a}function tX(t){var e,n=t.port,r=t.protocol,i=t.hostname,a=(""===(e=n)&&(e="http:"===r?"80":"https:"===r?"443":""),e),o=91===i.charCodeAt(0)&&93===i.charCodeAt(i.length-1),s=i;return o&&(s=i.slice(1,-1)),{service:{resource:i+":"+a,name:"",type:""},address:s,port:Number(a)}}function tG(){return{page:{referer:document.referrer,url:location.href}}}var tZ={service:{name:[1024,!0],version:!0,agent:{version:[1024,!0]},environment:!0},labels:{"*":!0}},tY={"*":!0,headers:{"*":!0}},tQ={user:{id:!0,email:!0,username:!0},tags:{"*":!0},http:{response:tY},destination:{address:[1024],service:{"*":[1024,!0]}},response:tY},tW={name:[1024,!0],type:[1024,!0],id:[1024,!0],trace_id:[1024,!0],parent_id:[1024,!0],transaction_id:[1024,!0],subtype:!0,action:!0,context:tQ},tK={name:!0,parent_id:!0,type:[1024,!0],id:[1024,!0],trace_id:[1024,!0],span_count:{started:[1024,!0]},context:tQ},t0={id:[1024,!0],trace_id:!0,transaction_id:!0,parent_id:!0,culprit:!0,exception:{type:!0},transaction:{type:!0},context:tQ};function t1(t){return null==t||""===t||void 0===t}function t2(t,e,n){var r,i,a,o,s=(r=t[e],(void 0===(i=n[0])&&(i=1024),void 0===(a=n[1])&&(a=!1),void 0===o&&(o="N/A"),a&&t1(r)&&(r=o),"string"==typeof r)?r.substring(0,i):r);if(t1(s)){delete t[e];return}t[e]=s}function t3(t,e,n){void 0===t&&(t={}),void 0===n&&(n=e);for(var r=Object.keys(t),i=[],a=0;a<r.length;a++)!function(a){var o=r[a],s=!0===t[o]?i:t[o];Array.isArray(s)?"*"===o?Object.keys(n).forEach(function(t){return t2(n,t,s)}):t2(n,o,s):t3(s,e,n[o])}(a);return e}var t4=n(34348),t6=n.n(t4),t5=["tags"],t9=["stack","message"],t8="Unhandled promise rejection: ",t7=function(){function t(t,e,n){this._apmServer=t,this._configService=e,this._transactionService=n}var e=t.prototype;return e.createErrorDataModel=function(t){var e=(function(t,e){var n,r=e.error,i=e.filename,a=e.lineno,o=e.colno,s=[];if(r)try{s=t.parse(r)}catch(t){}return 0!==(n=s).length&&(1!==n.length||"lineNumber"in n[0])||(s=[{fileName:i,lineNumber:a,columnNumber:o}]),s.map(function(t){var e,n;return t.functionName&&(t.functionName=(n=((n=(0,t.functionName).split("/")).length>1?["Object",n[n.length-1]].join("."):n[0]).replace(/.<$/gi,".<anonymous>").replace(/^Anonymous function$/,"<anonymous>").split(".")).length>1?n[n.length-1]:n[0]),t}).map(function(t){var e,n,r,i=t.fileName,a=t.lineNumber,o=t.columnNumber,s=t.functionName;if(!i&&!a||!o&&!a)return{};var c=(void 0===(e=i)&&(e=""),"<anonymous>"===e&&(e=""),e),u=(n=c,r=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),n.indexOf(r)>-1&&(n=n.replace(r+"/","")),n);return c&&0===window.location.href.indexOf(c)&&(u="(inline script)"),{abs_path:i,filename:u,function:void 0===s?"<anonymous>":s,lineno:a,colno:o}})})(t6(),t).filter(function(t){var e=t.filename,n=t.lineno;return void 0!==e&&void 0!==n}),n="(inline script)",r=e[e.length-1];r&&r.filename&&(n=r.filename);var i=t.message,a=t.error,o=i,s="",c={};if(a&&"object"==typeof a){o=o||a.message,s=a.name;var u=function(t){var e=!1,n={};if(Object.keys(t).forEach(function(r){if(!(t9.indexOf(r)>=0)){var i=t[r];if(null!=i&&"function"!=typeof i){if("object"==typeof i){if("function"!=typeof i.toISOString)return;i=i.toISOString()}n[r]=i,e=!0}}}),e)return n}(a);u&&(c.custom=u)}!s&&o&&o.indexOf(":")>-1&&(s=o.split(":")[0]);var f=this._transactionService.getCurrentTransaction(),d=f?f.context:{},l=this._configService.get("context"),p=(l.tags,function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(l,t5)),h=L({},tG(),d,p,c),v={id:T(),culprit:n,exception:{message:o,stacktrace:e,type:s},context:h};return f&&(v=O(v,{trace_id:f.traceId,parent_id:f.id,transaction_id:f.id,transaction:{type:f.type,sampled:f.sampled}})),t3(t0,v)},e.logErrorEvent=function(t){if(void 0!==t){var e=this.createErrorDataModel(t);void 0!==e.exception.message&&this._apmServer.addError(e)}},e.registerListeners=function(){var t=this;window.addEventListener("error",function(e){return t.logErrorEvent(e)}),window.addEventListener("unhandledrejection",function(e){return t.logPromiseEvent(e)})},e.logPromiseEvent=function(t){var e,n=t.reason;if(null==n&&(n="<no reason specified>"),"string"==typeof n.message){var r=n.name?n.name+": ":"";e={error:n,message:t8+r+n.message}}else e=this._parseRejectReason(n);this.logErrorEvent(e)},e.logError=function(t){var e={};return"string"==typeof t?e.message=t:e.error=t,this.logErrorEvent(e)},e._parseRejectReason=function(t){var e={message:t8};if(Array.isArray(t))e.message+="<object>";else if("object"==typeof t)try{e.message+=JSON.stringify(t),e.error=t}catch(t){e.message+="<object>"}else"function"==typeof t?e.message+="<function>":e.message+=t;return e},t}(),et=function(){function t(t,e){void 0===e&&(e={}),this.onFlush=t,this.items=[],this.queueLimit=e.queueLimit||-1,this.flushInterval=e.flushInterval||0,this.timeoutId=void 0}var e=t.prototype;return e._setTimer=function(){var t=this;this.timeoutId=setTimeout(function(){return t.flush()},this.flushInterval)},e._clear=function(){void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.items=[]},e.flush=function(){this.onFlush(this.items),this._clear()},e.add=function(t){this.items.push(t),-1!==this.queueLimit&&this.items.length>=this.queueLimit?this.flush():void 0===this.timeoutId&&this._setTimer()},t}(),ee=function(){function t(){}return t.stringify=function(t){return JSON.stringify(t)+"\n"},t}(),en=["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],er=["fs","ls","le","cs","ce","qs","rs","re","dl","di","ds","de","dc","es","ee"];function ei(t){return{ts:t.transfer_size,ebs:t.encoded_body_size,dbs:t.decoded_body_size}}function ea(t){if(!t)return null;var e,n,r,i,a,o={},s=t.page,c=t.http,u=t.response,f=t.destination,d=t.user,l=t.custom;if(s&&(o.p={rf:s.referer,url:s.url}),c&&(o.h=(e={},n=c.method,r=c.status_code,i=c.url,a=c.response,e.url=i,n&&(e.mt=n),r&&(e.sc=r),a&&(e.r=ei(a)),e)),u&&(o.r=ei(u)),f){var p=f.service;o.dt={se:{n:p.name,t:p.type,rc:p.resource},ad:f.address,po:f.port}}return d&&(o.u={id:d.id,un:d.username,em:d.email}),l&&(o.cu=l),o}function eo(t,e,n){var r=n.timeout,i=void 0===r?HTTP_REQUEST_TIMEOUT:r,a=n.payload,o=n.headers,s=n.beforeSend,c=n.sendCredentials;return new v(function(n,r){var u=new window.XMLHttpRequest;if(u[J]=!0,u.open(t,e,!0),u.timeout=i,u.withCredentials=c,o)for(var f in o)o.hasOwnProperty(f)&&u.setRequestHeader(f,o[f]);u.onreadystatechange=function(){if(4===u.readyState){var t=u.status,i=u.responseText;tF(t)?n(u):r({url:e,status:t,responseText:i})}},u.onerror=function(){r({url:e,status:u.status,responseText:u.responseText})};var d=!0;"function"==typeof s&&(d=s({url:e,method:t,headers:o,payload:a,xhr:u})),d?u.send(a):r({url:e,status:0,responseText:"Request rejected by user configuration."})})}var es=function(){function t(t,e){this._configService=t,this._loggingService=e,this.queue=void 0,this.throttleEvents=j}var e=t.prototype;return e.init=function(){var t=this,e=this._configService.get("queueLimit"),n=this._configService.get("flushInterval"),r=this._configService.get("eventsLimit");this.queue=new et(function(e){var n=t.sendEvents(e);n&&n.catch(function(e){t._loggingService.warn("Failed sending events!",t._constructError(e))})},{queueLimit:e,flushInterval:n}),this.throttleEvents=function(t,e,n){var r,i=this,a=n.limit,o=n.interval,s=0;return function(){return(s++,void 0===r&&(r=setTimeout(function(){s=0,r=void 0},o)),s>a&&"function"==typeof e)?e.apply(i,arguments):t.apply(i,arguments)}}(this.queue.add.bind(this.queue),function(){return t._loggingService.warn("Dropped events due to throttling!")},{limit:r,interval:6e4}),this._configService.observeEvent(tf,function(){t.queue.flush()})},e._postJson=function(t,e){var n,r,i=this,a={payload:e,headers:{"Content-Type":"application/x-ndjson"},beforeSend:this._configService.get("apmRequest")};return(void 0===n&&(n="gzip"),r="function"==typeof CompressionStream,new v(function(t){if(!r||function(){var t="_elastic_inspect_beacon_";if(null!=sessionStorage.getItem(t))return!0;if(!window.URL||!window.URLSearchParams)return!1;try{var e=new URL(window.location.href).searchParams.has(t);return e&&sessionStorage.setItem(t,!0),e}catch(t){}return!1}())return t(a);var e=a.payload,i=a.headers,o=a.beforeSend;return new Response(new Blob([e]).stream().pipeThrough(new CompressionStream(n))).blob().then(function(e){return i["Content-Encoding"]=n,t({payload:e,headers:i,beforeSend:o})})})).catch(function(t){return a}).then(function(e){return i._makeHttpRequest("POST",t,e)}).then(function(t){return t.responseText})},e._constructError=function(t){var e=t.url,n=t.status;return(t.responseText,void 0===n)?t:Error(e+" HTTP status: "+n)},e._makeHttpRequest=function(t,e,n){var r=void 0===n?{}:n,i=r.timeout,a=void 0===i?1e4:i,o=r.payload,s=r.headers,c=r.beforeSend,u=this._configService.get("sendCredentials");return!c&&function(t,e){if(!tP()||!("keepalive"in new Request("")))return!1;var n=e?e instanceof Blob?e.size:new Blob([e]).size:0;return"POST"===t&&n<6e4}(t,o)?(function(t,e,n){var r,i=n.keepalive,a=n.timeout,o=n.payload,s=n.headers,c=n.sendCredentials,u={};if("function"==typeof AbortController){var f=new AbortController;u.signal=f.signal,setTimeout(function(){return f.abort()},void 0===a?1e4:a)}return window.fetch(e,tA({body:o,headers:s,method:t,keepalive:void 0!==i&&i,credentials:c?"include":"omit"},u)).then(function(t){return(r=t).text()}).then(function(t){var n={url:e,status:r.status,responseText:t};if(!tF(r.status))throw n;return n})})(t,e,{keepalive:!0,timeout:a,payload:o,headers:s,sendCredentials:u}).catch(function(n){if(n instanceof TypeError)return eo(t,e,{timeout:a,payload:o,headers:s,beforeSend:c,sendCredentials:u});throw n}):eo(t,e,{timeout:a,payload:o,headers:s,beforeSend:c,sendCredentials:u})},e.fetchConfig=function(t,e){var n=this,r=this.getEndpoints().configEndpoint;if(!t)return v.reject("serviceName is required for fetching central config.");r+="?service.name="+t,e&&(r+="&service.environment="+e);var i=this._configService.getLocalConfig();i&&(r+="&ifnonematch="+i.etag);var a=this._configService.get("apmRequest");return this._makeHttpRequest("GET",r,{timeout:5e3,beforeSend:a}).then(function(t){var e=t.status,r=t.responseText;if(304===e)return i;var a=JSON.parse(r),o=t.getResponseHeader("etag");return o&&(a.etag=o.replace(/["]/g,""),n._configService.setLocalConfig(a,!0)),a}).catch(function(t){var e=n._constructError(t);return v.reject(e)})},e.createMetaData=function(){var t=this._configService;return t3(tZ,{service:{name:t.get("serviceName"),version:t.get("serviceVersion"),agent:{name:"rum-js",version:t.version},language:{name:"javascript"},environment:t.get("environment")},labels:t.get("context.tags")})},e.addError=function(t){var e;this.throttleEvents(((e={})[tx]=t,e))},e.addTransaction=function(t){var e;this.throttleEvents(((e={})[tk]=t,e))},e.ndjsonErrors=function(t,e){var n=e?"e":"error";return t.map(function(t){var r,i,a,o;return ee.stringify(((r={})[n]=e?(i=t.exception,a={id:t.id,cl:t.culprit,ex:{mg:i.message,st:i.stacktrace.map(function(t){return{ap:t.abs_path,f:t.filename,fn:t.function,li:t.lineno,co:t.colno}}),t:t.type},c:ea(t.context)},(o=t.transaction)&&(a.tid=t.trace_id,a.pid=t.parent_id,a.xid=t.transaction_id,a.x={t:o.type,sm:o.sampled}),a):t,r))})},e.ndjsonMetricsets=function(t){return t.map(function(t){return ee.stringify({metricset:t})}).join("")},e.ndjsonTransactions=function(t,e){var n=this,r=e?"x":"transaction";return t.map(function(t){var i,a="",o="";return!e&&(t.spans&&(a=t.spans.map(function(t){return ee.stringify({span:t})}).join(""),delete t.spans),t.breakdown&&(o=n.ndjsonMetricsets(t.breakdown),delete t.breakdown)),ee.stringify(((i={})[r]=e?function(t){var e=t.spans.map(function(e){var n={id:e.id,n:e.name,t:e.type,s:e.start,d:e.duration,c:ea(e.context),o:e.outcome,sr:e.sample_rate};return e.parent_id!==t.id&&(n.pid=e.parent_id),!0===e.sync&&(n.sy=!0),e.subtype&&(n.su=e.subtype),e.action&&(n.ac=e.action),n}),n={id:t.id,tid:t.trace_id,n:t.name,t:t.type,d:t.duration,c:ea(t.context),k:function(t){if(!t)return null;var e=function(t){if(!t)return null;var e={};return er.forEach(function(n,r){var i=en[r];e[n]=t[i]}),e}(t.navigationTiming);return{nt:e,a:function(t,e){var n={};if(t&&(n={fb:t.rs,di:t.di,dc:t.dc}),e){var r=e.firstContentfulPaint,i=e.largestContentfulPaint;r&&(n.fp=r),i&&(n.lp=i)}return 0===Object.keys(n).length?null:n}(e,t.agent)}}(t.marks),me:t.breakdown.map(function(t){var e=t.span,n=t.samples;return{y:{t:e.type},sa:{ysc:{v:n["span.self_time.count"].value},yss:{v:n["span.self_time.sum.us"].value}}}}),y:e,yc:{sd:e.length},sm:t.sampled,sr:t.sample_rate,o:t.outcome};if(t.experience){var r=t.experience,i=r.cls,a=r.fid,o=r.tbt,s=r.longtask;n.exp={cls:i,fid:a,tbt:o,lt:s}}if(t.session){var c=t.session,u=c.id,f=c.sequence;n.ses={id:u,seq:f}}return n}(t):t,i))+a+o})},e.sendEvents=function(t){if(0!==t.length){for(var e,n,r,i,a,o,s=[],c=[],u=0;u<t.length;u++){var f=t[u];f[tk]&&s.push(f[tk]),f[tx]&&c.push(f[tx])}if(0!==s.length||0!==c.length){var d=this._configService,l=((a={})[tk]=s,a[tx]=c,a),p=d.applyFilters(l);if(!p){this._loggingService.warn("Dropped payload due to filtering!");return}var h=d.get("apiVersion")>2,v=[],g=this.createMetaData(),m=h?"m":"metadata";v.push(ee.stringify(((o={})[m]=h?(e=g.service,n=g.labels,r=e.agent,i=e.language,{se:{n:e.name,ve:e.version,a:{n:r.name,ve:r.version},la:{n:i.name},en:e.environment},l:n}):g,o)));var y=(v=v.concat(this.ndjsonErrors(p[tx],h),this.ndjsonTransactions(p[tk],h))).join(""),b=this.getEndpoints().intakeEndpoint;return this._postJson(b,y)}}},e.getEndpoints=function(){var t=this._configService.get("serverUrl"),e=this._configService.get("apiVersion");return{intakeEndpoint:t+(this._configService.get("serverUrlPrefix")||"/intake/v"+e+"/rum/events"),configEndpoint:t+"/config/v1/rum/agents"}},t}();function ec(){return(ec=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var eu=function(){function t(){this.config={serviceName:"",serviceVersion:"",environment:"",serverUrl:"http://localhost:8200",serverUrlPrefix:"",active:!0,instrument:!0,disableInstrumentations:[],logLevel:"warn",breakdownMetrics:!1,ignoreTransactions:[],eventsLimit:80,queueLimit:-1,flushInterval:500,distributedTracing:!0,distributedTracingOrigins:[],distributedTracingHeaderName:"traceparent",pageLoadTraceId:"",pageLoadSpanId:"",pageLoadSampled:!1,pageLoadTransactionName:"",propagateTracestate:!1,transactionSampleRate:1,centralConfig:!1,monitorLongtasks:!0,apiVersion:2,context:{},session:!1,apmRequest:null,sendCredentials:!1},this.events=new tq,this.filters=[],this.version=""}var e=t.prototype;return e.init=function(){var t=function(t){if(!t)return{};for(var e={},n=/^data-([\w-]+)$/,r=t.attributes,i=0;i<r.length;i++){var a=r[i];n.test(a.nodeName)&&(e[a.nodeName.match(n)[1].split("-").map(function(t,e){return e>0?t.charAt(0).toUpperCase()+t.substring(1):t}).join("")]=a.value||a.nodeValue)}return e}(function(){if("undefined"!=typeof document)return document.currentScript||function(){if("undefined"!=typeof document)for(var t=document.getElementsByTagName("script"),e=0,n=t.length;e<n;e++){var r=t[e];if(r.src.indexOf("elastic")>0)return r}}()}());this.setConfig(t)},e.setVersion=function(t){this.version=t},e.addFilter=function(t){if("function"!=typeof t)throw Error("Argument to must be function");this.filters.push(t)},e.applyFilters=function(t){for(var e=0;e<this.filters.length;e++)if(!(t=this.filters[e](t)))return;return t},e.get=function(t){return t.split(".").reduce(function(t,e){return t&&t[e]},this.config)},e.setUserContext=function(t){void 0===t&&(t={});var e={},n=t,r=n.id,i=n.username,a=n.email;("number"==typeof r||"string"==typeof r)&&(e.id=r),"string"==typeof i&&(e.username=i),"string"==typeof a&&(e.email=a),this.config.context.user=O(this.config.context.user||{},e)},e.setCustomContext=function(t){void 0===t&&(t={}),this.config.context.custom=O(this.config.context.custom||{},t)},e.addLabels=function(t){var e=this;this.config.context.tags||(this.config.context.tags={}),Object.keys(t).forEach(function(n){return x(n,t[n],e.config.context.tags)})},e.setConfig=function(t){void 0===t&&(t={});var e=t,n=e.transactionSampleRate,r=e.serverUrl;r&&(t.serverUrl=r.replace(/\/+$/,"")),N(n)||(n<1e-4&&n>0&&(n=1e-4),t.transactionSampleRate=Math.round(1e4*n)/1e4),L(this.config,t),this.events.send(tu,[this.config])},e.validate=function(t){void 0===t&&(t={});var e=["serviceName","serverUrl"],n=Object.keys(this.config),r={missing:[],invalid:[],unknown:[]};Object.keys(t).forEach(function(i){-1===e.indexOf(i)||t[i]||r.missing.push(i),-1===n.indexOf(i)&&r.unknown.push(i)}),t.serviceName&&!/^[a-zA-Z0-9 _-]+$/.test(t.serviceName)&&r.invalid.push({key:"serviceName",value:t.serviceName,allowed:"a-z, A-Z, 0-9, _, -, <space>"});var i=t.transactionSampleRate;return void 0!==i&&("number"!=typeof i||isNaN(i)||i<0||i>1)&&r.invalid.push({key:"transactionSampleRate",value:i,allowed:"Number between 0 and 1"}),r},e.getLocalConfig=function(){var t=sessionStorage;this.config.session&&(t=localStorage);var e=t.getItem(t_);if(e)return JSON.parse(e)},e.setLocalConfig=function(t,e){if(t){if(e){var n=this.getLocalConfig();t=ec({},n,t)}var r=sessionStorage;this.config.session&&(r=localStorage),r.setItem(t_,JSON.stringify(t))}},e.dispatchEvent=function(t,e){this.events.send(t,e)},e.observeEvent=function(t,e){return this.events.observe(t,e)},t}(),ef=function(){function t(t){void 0===t&&(t={}),this.levels=["trace","debug","info","warn","error"],this.level=t.level||"warn",this.prefix=t.prefix||"",this.resetLogMethods()}var e=t.prototype;return e.shouldLog=function(t){return this.levels.indexOf(t)>=this.levels.indexOf(this.level)},e.setLevel=function(t){t!==this.level&&(this.level=t,this.resetLogMethods())},e.resetLogMethods=function(){var t=this;this.levels.forEach(function(e){t[e]=t.shouldLog(e)?function(){var t=e;("trace"===e||"debug"===e)&&(t="info");var n=arguments;if(n[0]=this.prefix+n[0],console){var r=console[t]||console.log;"function"==typeof r&&r.apply(console,n)}}:j})},t}(),ed=((r={})[tI]=function(){return new eu},r[tC]=function(){return new ef({prefix:"[Elastic APM] "})},r[tL]=function(t){var e=t.getService([tI,tC]);return new es(e[0],e[1])},r),el=function(){function t(){this.instances={},this.initialized=!1}var e=t.prototype;return e.init=function(){if(!this.initialized){this.initialized=!0;var t=this.getService(tI);t.init();var e=this.getService([tC,tL]),n=e[0],r=e[1];t.events.observe(tu,function(){var e=t.get("logLevel");n.setLevel(e)}),r.init()}},e.getService=function(t){var e=this;return"string"==typeof t?(this.instances[t]||"function"!=typeof ed[t]||(this.instances[t]=ed[t](this)),this.instances[t]):Array.isArray(t)?t.map(function(t){return e.getService(t)}):void 0},t}(),ep=function(){function t(t,e,n,r){this._apmServer=t,this._configService=e,this._logginService=n,this._transactionService=r}var e=t.prototype;return e.init=function(t){var e=this;void 0===t&&(t={}),this._configService.events.observe(tc+tb,function(t){var n=e.createTransactionPayload(t);n&&(e._apmServer.addTransaction(n),e._configService.dispatchEvent(td))}),t[tv]&&tM.observe(tv,this.getHistorySub()),t[tp]&&tM.observe(tp,this.getXHRSub()),t[th]&&tM.observe(th,this.getFetchSub())},e.getHistorySub=function(){var t=this._transactionService;return function(e,n){n.source===tv&&e===Q&&t.startTransaction(n.data.title,"route-change",{managed:!0,canReuse:!0})}},e.getXHRSub=function(){var t=this;return function(e,n){n.source!==tp||D.fetchInProgress||t.processAPICalls(e,n)}},e.getFetchSub=function(){var t=this;return function(e,n){n.source===th&&t.processAPICalls(e,n)}},e.processAPICalls=function(t,e){var n=this._configService,r=this._transactionService;if(e.data&&e.data.url){var i=this._apmServer.getEndpoints();if(Object.keys(i).some(function(t){return -1!==e.data.url.indexOf(i[t])}))return}if(t===Y&&e.data){var a=e.data,o=new tV(a.url),s=a.method+" "+(o.relative?o.path:k(o.href));r.getCurrentTransaction()||r.startTransaction(s,tr,{managed:!0});var c=r.startSpan(s,"external.http",{blocking:!0});if(!c)return;var u=n.get("distributedTracing"),f=n.get("distributedTracingOrigins"),d=new tV(window.location.href),l=E(o.origin,d.origin)||E(o.origin,f),p=a.target;u&&l&&p&&(this.injectDtHeader(c,p),n.get("propagateTracestate")&&this.injectTSHeader(c,p)),a.sync&&(c.sync=a.sync),a.span=c}else if(t===Q){var h=e.data;if(h&&h.span){var v,g,m=h.span,y=h.response,b=h.target;v=y?y.status:b.status,g="abort"==h.status||h.aborted?"unknown":v>=400||0==v?"failure":"success",m.outcome=g;var _=r.getCurrentTransaction();_&&_.type===tr&&(_.outcome=g),r.endSpan(m,h)}}},e.injectDtHeader=function(t,e){var n=this._configService.get("distributedTracingHeaderName"),r=function(t){if(t&&t.traceId&&t.id&&t.parentId){var e=t.sampled?"01":"00",n=t.sampled?t.id:t.parentId;return"00-"+t.traceId+"-"+n+"-"+e}}(t);/^[\da-f]{2}-[\da-f]{32}-[\da-f]{16}-[\da-f]{2}$/.test(r)&&"00000000000000000000000000000000"!==r.slice(3,35)&&"0000000000000000"!==r.slice(36,52)&&r&&n&&w(e,n,r)},e.injectTSHeader=function(t,e){var n=function(t){var e=t.sampleRate;if("number"==typeof e&&!(String(e).length>256))return"es=s:"+e}(t);n&&w(e,"tracestate",n)},e.extractDtHeader=function(t){var e=this._configService.get("distributedTracingHeaderName");if(t)return function(t){var e=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/.exec(t);if(e){var n=e[4];return{traceId:e[2],id:e[3],sampled:"00"!==n}}}(t[e])},e.filterTransaction=function(t){var e=t.duration();return!(!e||t.isManaged()&&(e>6e4||t.sampled&&0===t.spans.length))},e.createTransactionDataModel=function(t){var e=t._start,n=t.spans.map(function(n){return t3(tW,{id:n.id,transaction_id:t.id,parent_id:n.parentId||t.id,trace_id:t.traceId,name:n.name,type:n.type,subtype:n.subtype,action:n.action,sync:n.sync,start:parseInt(n._start-e),duration:n.duration(),context:n.context,outcome:n.outcome,sample_rate:n.sampleRate})});return t3(tK,{id:t.id,trace_id:t.traceId,session:t.session,name:t.name,type:t.type,duration:t.duration(),spans:n,context:t.context,marks:t.marks,breakdown:t.breakdownTimings,span_count:{started:n.length},sampled:t.sampled,sample_rate:t.sampleRate,experience:t.experience,outcome:t.outcome})},e.createTransactionPayload=function(t){var e=function(t){if(t.sampled){var e=t.spans.filter(function(e){return e.duration()>0&&e._start>=t._start&&e._end<=t._end});if(t.isManaged()){var n=function(t,e,n){t.sort(function(t,e){return t._start-e._start});var r=[],i=1;return t.forEach(function(n,a){if(0===r.length)r.push(n);else{var o=r[r.length-1],s=o.type===n.type&&o.subtype===n.subtype&&o.action===n.action&&o.name===n.name&&n.duration()/e<.05&&(n._start-o._end)/e<.05,c=t.length===a+1;s&&(i++,o._end=n._end),i>1&&(!s||c)&&(o.name=i+"x "+o.name,i=1),s||r.push(n)}}),r}(e,t.duration(),0);t.spans=n}else t.spans=e}else t.resetFields();return t}(t);if(this.filterTransaction(e))return this.createTransactionDataModel(t);this._configService.dispatchEvent(tl)},t}(),eh=function(){function t(t,e,n){void 0===n&&(n={}),t||(t=ta),e||(e=te),this.name=t,this.type=e,this.options=n,this.id=n.id||T(16),this.traceId=n.traceId,this.sampled=n.sampled,this.sampleRate=n.sampleRate,this.timestamp=n.timestamp,this._start=P(n.startTime),this._end=void 0,this.ended=!1,this.outcome=void 0,this.onEnd=n.onEnd}var e=t.prototype;return e.ensureContext=function(){this.context||(this.context={})},e.addLabels=function(t){this.ensureContext();var e=this.context;e.tags||(e.tags={}),Object.keys(t).forEach(function(n){return x(n,t[n],e.tags)})},e.addContext=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];0!==e.length&&(this.ensureContext(),L.apply(void 0,[this.context].concat(e)))},e.end=function(t){this.ended||(this.ended=!0,this._end=P(t),this.callOnEnd())},e.callOnEnd=function(){"function"==typeof this.onEnd&&this.onEnd(this)},e.duration=function(){return q(this._start,this._end)},t}();function ev(t,e){return(ev=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var eg=function(t){function e(e,n,r){var i;if((i=t.call(this,e,n,r)||this).parentId=i.options.parentId,i.subtype=void 0,i.action=void 0,-1!==i.type.indexOf(".")){var a=i.type.split(".",3);i.type=a[0],i.subtype=a[1],i.action=a[2]}return i.sync=i.options.sync,i}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ev(e,t),e.prototype.end=function(e,n){t.prototype.end.call(this,e),function(t,e){var n,r,i,a,o,s,c,u,f,d,l,p;if(e){switch(t.type){case"external":i=e.url,a=e.method,o=e.target,s=e.response,u=tX(c=new tV(i)),f={http:{method:a,url:c.href},destination:u},o&&void 0!==o.status?r=o.status:s&&(r=s.status),f.http.status_code=r,n=f;break;case"resource":d=e.entry,p=tX(new tV(l=e.url)),n={http:{url:l,response:tJ(d)},destination:p};break;case"hard-navigation":n={destination:tX(new tV(e.url))}}t.addContext(n)}}(this,n)},e}(eh),em=[["domainLookupStart","domainLookupEnd","DNS"],["connectStart","connectEnd","TCP"],["requestStart","responseStart","Request"],["responseStart","responseEnd","Response"],["domLoading","domComplete","Processing"],["loadEventStart","loadEventEnd","Load"]];function ey(t,e){var n=e.details,r=e.count;return{transaction:t,span:n,samples:{"span.self_time.count":{value:void 0===r?1:r},"span.self_time.sum.us":{value:1e3*e.duration}}}}function eb(t,e){return(eb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var e_=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,r)||this).traceId=T(),i.marks=void 0,i.spans=[],i._activeSpans={},i._activeTasks=new Set,i.blocked=!1,i.captureTimings=!1,i.breakdownTimings=[],i.sampleRate=i.options.transactionSampleRate,i.sampled=Math.random()<=i.sampleRate,i}e.prototype=Object.create(t.prototype),e.prototype.constructor=e,eb(e,t);var n=e.prototype;return n.addMarks=function(t){this.marks=L(this.marks||{},t)},n.mark=function(t){var e=R(t),n=A()-this._start,r={};r[e]=n,this.addMarks({custom:r})},n.canReuse=function(){var t=this.options.reuseThreshold||5e3;return!!this.options.canReuse&&!this.ended&&A()-this._start<t},n.redefine=function(t,e,n){t&&(this.name=t),e&&(this.type=e),n&&(this.options.reuseThreshold=n.reuseThreshold,O(this.options,n))},n.startSpan=function(t,e,n){var r=this;if(!this.ended){var i=O({},n);i.onEnd=function(t){r._onSpanEnd(t)},i.traceId=this.traceId,i.sampled=this.sampled,i.sampleRate=this.sampleRate,i.parentId||(i.parentId=this.id);var a=new eg(t,e,i);return this._activeSpans[a.id]=a,i.blocking&&this.addTask(a.id),a}},n.isFinished=function(){return!this.blocked&&0===this._activeTasks.size},n.detectFinish=function(){this.isFinished()&&this.end()},n.end=function(t){if(!this.ended){for(var e in this.ended=!0,this._end=P(t),this._activeSpans){var n=this._activeSpans[e];n.type=n.type+tR,n.end(t)}this.callOnEnd()}},n.captureBreakdown=function(){this.breakdownTimings=function(t,e){void 0===e&&(e=y.timing);var n=[],r=t.name,i=t.type,a=t.sampled,o={name:r,type:i};if(!a)return n;if(i===tt&&e)for(var s=0;s<em.length;s++){var c=em[s],u=q(e[c[0]],e[c[1]]);0!==u&&null!=u&&n.push(ey(o,{details:{type:c[2]},duration:u}))}else{var f=function(t){var e={},n=function(t){var e=t.spans,n=t._start,r=t._end;if(0===e.length)return t.duration();e.sort(function(t,e){return t._start-e._start});for(var i=e[0],a=i._end,o=i._start,s=a,c=o-n,u=1;u<e.length;u++)o=(i=e[u])._start,a=i._end,o>s?(c+=o-s,s=a):a>s&&(s=a);return s<r&&(c+=r-s),c}(t);e.app={count:1,duration:n};for(var r=t.spans,i=0;i<r.length;i++){var a=r[i],o=a.duration();if(0!==o&&null!=o){var s=a.type,c=a.subtype,u=s.replace(tR,"");c&&(u+="."+c),e[u]||(e[u]={duration:0,count:0}),e[u].count++,e[u].duration+=o}}return e}(t);Object.keys(f).forEach(function(t){var e=t.split("."),r=e[0],i=e[1],a=f[t],s=a.duration,c=a.count;n.push(ey(o,{details:{type:r,subtype:i},duration:s,count:c}))})}return n}(this)},n.block=function(t){this.blocked=t,this.blocked||this.detectFinish()},n.addTask=function(t){return t||(t="task-"+T(16)),this._activeTasks.add(t),t},n.removeTask=function(t){this._activeTasks.delete(t)&&this.detectFinish()},n.resetFields=function(){this.spans=[],this.sampleRate=0},n._onSpanEnd=function(t){this.spans.push(t),delete this._activeSpans[t.id],this.removeTask(t.id)},n.isManaged=function(){return!!this.options.managed},e}(eh);function eS(){return(eS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var eT={fid:0,fcp:0,tbt:{start:1/0,duration:0},cls:{score:0,firstEntryTime:Number.NEGATIVE_INFINITY,prevEntryTime:Number.NEGATIVE_INFINITY,currentSessionScore:0},longtask:{count:0,duration:0,max:0}},ew=function(){function t(t){this.po={observe:j,disconnect:j},window.PerformanceObserver&&(this.po=new PerformanceObserver(t))}var e=t.prototype;return e.start=function(t,e){void 0===e&&(e={buffered:!0});try{if(!U(t))return;this.po.observe(eS({type:t},e))}catch(t){}},e.stop=function(){this.po.disconnect()},t}();function eE(t,e,n,r,i){return void 0===i&&(i=0),"number"==typeof t&&"number"==typeof e&&t>=i&&e>t&&t-i>=n&&e-i<=r&&e-t<3e5&&t-i<3e5&&e-i<3e5}var ex=[["redirectStart","redirectEnd","Redirect"],["domainLookupStart","domainLookupEnd","Domain lookup"],["connectStart","connectEnd","Making a connection to the server"],["requestStart","responseEnd","Requesting and receiving the document"],["domLoading","domInteractive","Parsing the document, executing sync. scripts"],["domContentLoadedEventStart","domContentLoadedEventEnd",'Fire "DOMContentLoaded" event'],["loadEventStart","loadEventEnd",'Fire "load" event']],ek=function(){function t(t,e){var n=this;this._config=e,this._logger=t,this.currentTransaction=void 0,this.respIntervalId=void 0,this.recorder=new ew(function(t){var e=n.getCurrentTransaction();if(e&&e.captureTimings){var r,i=e.type===tt,a=function(t,e){var n=e.isHardNavigation,r=e.trStart,i=t.getEntriesByType(tS).filter(function(t){return t.startTime>=r}),a={spans:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],a=i.name,o=i.startTime,s=i.duration,c=i.attribution,u=o+s,f=new eg("Longtask("+a+")",tS,{startTime:o});if(e.count++,e.duration+=s,e.max=Math.max(s,e.max),c.length>0){var d=c[0],l=d.name,p=d.containerType,h=d.containerName,v=d.containerId,g={attribution:l,type:p};h&&(g.name=h),v&&(g.id=v),f.addContext({custom:g})}f.end(u),n.push(f)}return n}(i,eT.longtask),marks:{}};if(!n)return a;var o=t.getEntriesByType(tT),s=o[o.length-1];if(s){var c=parseInt(s.startTime);eT.lcp=c,a.marks.largestContentfulPaint=c}var u=y.timing,f=u.fetchStart-u.navigationStart;B(u)&&(f=0);var d=t.getEntriesByName("first-contentful-paint")[0];if(d){var l=parseInt(f>=0?d.startTime-f:d.startTime);eT.fcp=l,a.marks.firstContentfulPaint=l}var p=function(t){var e=t[0];if(e){var n=e.startTime,r=e.processingStart,i=new eg("First Input Delay",tw,{startTime:n});return i.end(r),i}}(t.getEntriesByType(tw));return p&&(eT.fid=p.duration(),a.spans.push(p)),function(t){t.forEach(function(t){var e=t.name,n=t.startTime,r=t.duration;if(!(n<eT.fcp)&&("self"===e||-1!==e.indexOf("same-origin"))){eT.tbt.start=Math.min(eT.tbt.start,n);var i=r-50;i>0&&(eT.tbt.duration+=i)}})}(i),function(t){t.forEach(function(t){!t.hadRecentInput&&t.value&&((t.startTime-eT.cls.firstEntryTime>5e3||t.startTime-eT.cls.prevEntryTime>1e3)&&(eT.cls.firstEntryTime=t.startTime,eT.cls.currentSessionScore=0),eT.cls.prevEntryTime=t.startTime,eT.cls.currentSessionScore+=t.value,eT.cls.score=Math.max(eT.cls.score,eT.cls.currentSessionScore))})}(t.getEntriesByType(tE)),a}(t,{isHardNavigation:i,trStart:i?0:e._start}),o=a.spans,s=a.marks;(r=e.spans).push.apply(r,o),e.addMarks({agent:s})}})}var e=t.prototype;return e.createCurrentTransaction=function(t,e,n){var r=new e_(t,e,n);return this.currentTransaction=r,r},e.getCurrentTransaction=function(){if(this.currentTransaction&&!this.currentTransaction.ended)return this.currentTransaction},e.createOptions=function(t){var e=this._config.config,n=O({transactionSampleRate:e.transactionSampleRate},t);return n.managed&&(n=O({pageLoadTraceId:e.pageLoadTraceId,pageLoadSampled:e.pageLoadSampled,pageLoadSpanId:e.pageLoadSpanId,pageLoadTransactionName:e.pageLoadTransactionName},n)),n},e.startManagedTransaction=function(t,e,n){var r=this.getCurrentTransaction(),i=!1;if(r){if(r.canReuse()&&n.canReuse){var a=r.type,o=ts.indexOf(r.type),s=ts.indexOf(e);o>=0&&s<o&&(a=e),r.redefine(t,a,n),i=!0}else r.end(),r=this.createCurrentTransaction(t,e,n)}else r=this.createCurrentTransaction(t,e,n);return r.type===tt&&(i||(this.recorder.start(tT),this.recorder.start("paint"),this.recorder.start(tw),this.recorder.start(tE)),n.pageLoadTraceId&&(r.traceId=n.pageLoadTraceId),n.pageLoadSampled&&(r.sampled=n.pageLoadSampled),r.name===ta&&n.pageLoadTransactionName&&(r.name=n.pageLoadTransactionName)),!i&&this._config.get("monitorLongtasks")&&this.recorder.start(tS),r.sampled&&(r.captureTimings=!0),r},e.startTransaction=function(t,e,n){var r,i=this,a=this.createOptions(n),o=!0;return a.managed?this.currentTransaction===(r=this.startManagedTransaction(t,e,a))&&(o=!1):r=new e_(t,e,a),r.onEnd=function(){return i.handleTransactionEnd(r)},o&&this._config.events.send("transaction:start",[r]),r},e.handleTransactionEnd=function(t){var e=this;this.recorder.stop();var n=window.location.href;return v.resolve().then(function(){var r=t.name,i=t.type;if(tU.lastHiddenStart>=t._start||e.shouldIgnoreTransaction(r)||i===ti){e._config.dispatchEvent(tl);return}if(i===tt){var a=e._config.get("pageLoadTransactionName");if(r===ta&&a&&(t.name=a),t.captureTimings){var o,s,c,u=eT.cls,f=eT.fid,d=eT.tbt,l=eT.longtask;d.duration>0&&t.spans.push((o=d.start,s=d.duration,(c=new eg("Total Blocking Time",tS,{startTime:o})).end(o+s),c)),t.experience={},U(tS)&&(t.experience.tbt=d.duration),U(tE)&&(t.experience.cls=u.score),f>0&&(t.experience.fid=f),l.count>0&&(t.experience.longtask={count:l.count,sum:l.duration,max:l.max})}e.setSession(t)}t.name===ta&&(t.name=function(t,e){void 0===e&&(e=2);for(var n=new tV(t),r=n.query,i=n.path.substring(1).split("/"),a=/\W|_/g,o=/[0-9]/g,s=/[a-z]/g,c=/[A-Z]/g,u=[],f=!1,d=0;d<i.length;d++){var l=i[d];if(f||d>e-1){l&&u.push("*");break}if((l.match(a)||[]).length>=2){u.push(":id"),f=!0;continue}var p=(l.match(o)||[]).length;if(p>3||l.length>3&&p/l.length>=.3){u.push(":id"),f=!0;continue}var h=(l.match(c)||[]).length,v=(l.match(s)||[]).length/l.length,g=h/l.length;if(l.length>5&&(g>.3&&g<.6||v>.3&&v<.6)){u.push(":id"),f=!0;continue}l&&u.push(l)}return"/"+(u.length>=2?u.join("/"):u.join(""))+(r?"?{query}":"")}(n)),function(t){if(!t.captureTimings){t.type===tt&&(t._start=0);return}var e=t._end;if(t.type===tt){if(t.marks&&t.marks.custom){var n,r=t.marks.custom;Object.keys(r).forEach(function(e){r[e]+=t._start})}t._start=0;var i=y.timing,a=B(i)?i.redirectStart:i.fetchStart;(function(t,e,n,r){for(var i=[],a=0;a<ex.length;a++){var o=t[ex[a][0]],s=t[ex[a][1]];if(eE(o,s,0,r,e)){var c=new eg(ex[a][2],"hard-navigation.browser-timing"),u=null;"requestStart"===ex[a][0]&&(c.pageResponse=!0,u={url:location.origin}),c._start=o-e,c.end(s-e,u),i.push(c)}}return i})(i,a,0,e).forEach(function(e){e.traceId=t.traceId,e.sampled=t.sampled,e.pageResponse&&t.options.pageLoadSpanId&&(e.id=t.options.pageLoadSpanId),t.spans.push(e)}),t.addMarks(null==(n=function(t){var e=t.redirectStart,n=t.fetchStart,r=t.navigationStart,i=t.responseStart,a=t.responseEnd;if(n>=r&&i>=n&&a>=i){var o={};return en.forEach(function(r){var i=t[r];i&&i>=n&&(B(t)?o[r]=parseInt(i-e):o[r]=parseInt(i-n))}),o}return null}(i))?null:{navigationTiming:n,agent:{timeToFirstByte:n.responseStart,domInteractive:n.domInteractive,domComplete:n.domComplete}})}if(H()){var o=t._start;(function(t,e,n,r){for(var i=[],a=0;a<t.length;a++){var o=t[a],s=o.initiatorType,c=o.name,u=o.startTime,f=o.responseEnd;-1!==K.indexOf(s)&&null!=c&&!(("xmlhttprequest"===s||"fetch"===s)&&(/intake\/v\d+\/rum\/events/.test(c)||null!=e&&u>e))&&eE(u,f,n,r)&&i.push(function(t){var e=t.name,n=t.initiatorType,r=t.startTime,i=t.responseEnd,a="resource";n&&(a+="."+n);var o=new eg(k(e),a);return o._start=r,o.end(i,{url:e,entry:t}),o}(t[a]))}return i})(y.getEntriesByType("resource"),tU.bootstrapTime,o,e).forEach(function(e){return t.spans.push(e)}),(function(t,e,n){for(var r=[],i=0;i<t.length;i++){var a=t[i],o=a.name,s=a.startTime,c=a.duration,u=s+c;if(!(c<=60)&&eE(s,u,e,n)){var f=new eg(o,"app");f._start=s,f.end(u),r.push(f)}}return r})(y.getEntriesByType("measure"),o,e).forEach(function(e){return t.spans.push(e)})}}(t),e.adjustTransactionTime(t),e._config.get("breakdownMetrics")&&t.captureBreakdown(),function(t,e){var n=void 0===e?{}:e,r=(n.tags,function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(n,t$)),i=tG(),a={};if(t.type===to)t.ensureContext(),t.context.page&&t.context.page.url&&(i.page.url=t.context.page.url);else if(t.type===tt&&H()){var o=y.getEntriesByType("navigation");o&&o.length>0&&(a={response:tJ(o[0])})}t.addContext(i,a,r)}(t,e._config.get("context")),e._config.events.send(tc,[t])},function(t){})},e.setSession=function(t){var e=this._config.get("session");if(e){"boolean"==typeof e?t.session={id:T(16),sequence:1}:e.timestamp&&Date.now()-e.timestamp>18e5?t.session={id:T(16),sequence:1}:t.session={id:e.id,sequence:e.sequence?e.sequence+1:1};var n={session:{id:t.session.id,sequence:t.session.sequence,timestamp:Date.now()}};this._config.setConfig(n),this._config.setLocalConfig(n,!0)}},e.adjustTransactionTime=function(t){var e=t.spans,n=function(t){for(var e=t[0],n=1;n<t.length;n++){var r=t[n];e._start>r._start&&(e=r)}return e}(e);n&&n._start<t._start&&(t._start=n._start);var r=(F(e,function(t){return -1===String(t).indexOf("external")})||{})._end||0;if(t.type===tt){var i=t._end-1e3,a=eT.lcp||0,o=(F(e,function(t){return -1!==String(t).indexOf("external")})||{})._end||0;t._end=Math.max(r,o,a,i)}else r>t._end&&(t._end=r);this.truncateSpans(e,t._end)},e.truncateSpans=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];r._end>e&&(r._end=e,r.type+=tR),r._start>e&&(r._start=e)}},e.shouldIgnoreTransaction=function(t){var e=this._config.get("ignoreTransactions");if(e&&e.length)for(var n=0;n<e.length;n++){var r=e[n];if("function"==typeof r.test){if(r.test(t))return!0}else if(r===t)return!0}return!1},e.startSpan=function(t,e,n){var r=this.getCurrentTransaction();return r||(r=this.createCurrentTransaction(void 0,ti,this.createOptions({canReuse:!0,managed:!0}))),r.startSpan(t,e,n)},e.endSpan=function(t,e){t&&t.end(null,e)},t}(),eI={minInteractionId:1/0,maxInteractionId:0,interactionCount:0,longestInteractions:[]};function eC(t){t.getEntries().forEach(function(t){t.interactionId&&(z()||(eI.minInteractionId=Math.min(eI.minInteractionId,t.interactionId),eI.maxInteractionId=Math.max(eI.maxInteractionId,t.interactionId),eI.interactionCount=(eI.maxInteractionId-eI.minInteractionId)/7+1),!(t.duration<40)&&!function(t){var e=eI.longestInteractions[eI.longestInteractions.length-1];if(void 0===e||!(t.duration<=e.duration)||t.interactionId==e.id){var n=eI.longestInteractions.filter(function(e){return e.id===t.interactionId});if(n.length>0){var r=n[0];r.duration=Math.max(r.duration,t.duration)}else eI.longestInteractions.push({id:t.interactionId,duration:t.duration});eI.longestInteractions.sort(function(t,e){return e.duration-t.duration}),eI.longestInteractions.splice(10)}}(t))})}function eO(){return performance.interactionCount||eI.interactionCount}function eL(t,e){if(function(t){var e=function(){if(0===eI.longestInteractions.length)return eO()>0?0:void 0;var t=Math.min(eI.longestInteractions.length-1,Math.floor(eO()/50));return eI.longestInteractions[t].duration}();if(e>=0){var n=A(),r=t.startTransaction(to,to,{startTime:n}),i=performance.getEntriesByType("navigation");if(i.length>0){var a=i[0].name;r.addContext({page:{url:a}})}return r.addLabels({inp_value:e}),r.end(n+e+1),eI.minInteractionId=1/0,eI.maxInteractionId=0,eI.interactionCount=0,eI.longestInteractions=[],r}}(e))var n=t.observeEvent(td,function(){eN(t,e),n()});else eN(t,e)}function eN(t,e){var n=e.getCurrentTransaction();if(n){var r=t.observeEvent(tl,function(){tU.lastHiddenStart=A(),r(),i()}),i=t.observeEvent(td,function(){t.dispatchEvent(tf),tU.lastHiddenStart=A(),i(),r()});n.end()}else t.dispatchEvent(tf),tU.lastHiddenStart=A()}var ej=function(){function t(t,e){this._disable=e,this.serviceFactory=t,this._initialized=!1}var e=t.prototype;return e.isEnabled=function(){return!this._disable},e.isActive=function(){var t=this.serviceFactory.getService(tI);return this.isEnabled()&&this._initialized&&t.get("active")},e.init=function(t){var e=this;if(this.isEnabled()&&!this._initialized){this._initialized=!0;var n=this.serviceFactory.getService([tI,tC,tO]),r=n[0],i=n[1],a=n[2];r.setVersion("5.16.0"),this.config(t);var o=r.get("logLevel");if(i.setLevel(o),r.get("active")){this.serviceFactory.init();var s,c,u,f,d,l,p,h,v,g=(s=r.get("instrument"),c=r.get("disableInstrumentations"),(u={})[tp]=!1,u[th]=!1,u[tv]=!1,u[tt]=!1,u[ty]=!1,u[tg]=!1,u[tm]=!1,s&&Object.keys(u).forEach(function(t){-1===c.indexOf(t)&&(u[t]=!0)}),u);if(this.serviceFactory.getService(tN).init(g),g[ty]&&this.serviceFactory.getService(tj).registerListeners(),r.get("session")){var m=r.getLocalConfig();m&&m.session&&r.setConfig({session:m.session})}var y=function(){return g[tt]&&e._sendPageLoadMetrics()};r.get("centralConfig")?this.fetchCentralConfig().then(y):y(),"hidden"===document.visibilityState&&(tU.lastHiddenStart=0),f=function(){"hidden"===document.visibilityState&&eL(r,a)},d=function(){return eL(r,a)},window.addEventListener("visibilitychange",f,!0),window.addEventListener("pagehide",d,!0),g[tg]&&g[tm]&&(l=function(t){var e,n,r,i,o,s,c;t.target instanceof Element&&(o=(e=t.target,(n={transactionName:null,context:null}).transactionName=function(t){var e=function(t){if(t.closest){var e=t.closest("a[data-transaction-name], button[data-transaction-name]");return e?e.dataset.transactionName:null}return t.dataset.transactionName}(t);if(e)return e;var n=t.tagName.toLowerCase(),r=t.getAttribute("name");return r?n+'["'+r+'"]':n}(e),(r=e.getAttribute("class"))&&(n.context={custom:{classes:r}}),i=n).transactionName,s=i.context,(c=a.startTransaction("Click - "+o,tn,{managed:!0,canReuse:!0,reuseThreshold:300}))&&s&&c.addContext(s))},p="click",window.addEventListener(p,l,!0)),void 0===h&&(h=new ew(eC)),v=z(),h.start("event",{buffered:!0,durationThreshold:v?40:16}),v||h.start(tw)}else this._disable=!0,i.warn("RUM agent is inactive")}return this},e.fetchCentralConfig=function(){var t=this.serviceFactory.getService([tL,tC,tI]),e=t[0],n=t[1],r=t[2];return e.fetchConfig(r.get("serviceName"),r.get("environment")).then(function(t){var e=t.transaction_sample_rate;if(e){var i={transactionSampleRate:e=Number(e)},a=r.validate(i).invalid;if(0===a.length)r.setConfig(i);else{var o=a[0],s=o.key,c=o.value,u=o.allowed;n.warn('invalid value "'+c+'" for '+s+". Allowed: "+u+".")}}return t}).catch(function(t){n.warn("failed fetching config:",t)})},e._sendPageLoadMetrics=function(){var t=this.startTransaction(void 0,tt,{managed:!0,canReuse:!0});if(t){t.addTask(tt);var e=function(){setTimeout(function(){return t.removeTask(tt)},1e3)};"complete"===document.readyState?e():window.addEventListener("load",e)}},e.observe=function(t,e){this.serviceFactory.getService(tI).events.observe(t,e)},e.config=function(t){var e=this.serviceFactory.getService([tI,tC]),n=e[0],r=e[1],i=n.validate(t),a=i.missing,o=i.invalid,s=i.unknown;if(s.length>0){var c="Unknown config options are specified for RUM agent: "+s.join(", ");r.warn(c)}if(0===a.length&&0===o.length)n.setConfig(t);else{var u="RUM agent isn't correctly configured. ";a.length>0&&(u+=a.join(", ")+" is missing",o.length>0&&(u+=", ")),o.forEach(function(t,e){var n=t.key,r=t.value,i=t.allowed;u+=n+' "'+r+'" contains invalid characters! (allowed: '+i+")"+(e!==o.length-1?", ":"")}),r.error(u),n.setConfig({active:!1})}},e.setUserContext=function(t){this.serviceFactory.getService(tI).setUserContext(t)},e.setCustomContext=function(t){this.serviceFactory.getService(tI).setCustomContext(t)},e.addLabels=function(t){this.serviceFactory.getService(tI).addLabels(t)},e.setInitialPageLoadName=function(t){this.serviceFactory.getService(tI).setConfig({pageLoadTransactionName:t})},e.startTransaction=function(t,e,n){if(this.isEnabled())return this.serviceFactory.getService(tO).startTransaction(t,e,n)},e.startSpan=function(t,e,n){if(this.isEnabled())return this.serviceFactory.getService(tO).startSpan(t,e,n)},e.getCurrentTransaction=function(){if(this.isEnabled())return this.serviceFactory.getService(tO).getCurrentTransaction()},e.captureError=function(t){if(this.isEnabled())return this.serviceFactory.getService(tj).logError(t)},e.addFilter=function(t){this.serviceFactory.getService(tI).addFilter(t)},t}(),eR=function(){if(m&&window.elasticApm)return window.elasticApm;var t=(m&&"function"==typeof Set&&"function"==typeof JSON.stringify&&y&&"function"==typeof y.now&&"withCredentials"in new window.XMLHttpRequest?(tH||(tH=!0,function(t){var e=XMLHttpRequest.prototype;if(e&&e[W])var n="readystatechange",r="load",i="error",a=$(e,"open",function(){return function(t,e){return t[J]||(t[Z]=e[0],t[G]=e[1],t[X]=!1===e[2]),a.apply(t,e)}}),o=$(e,"send",function(){return function(e,a){if(e[J])return o.apply(e,a);var c={source:tp,state:"",type:"macroTask",data:{target:e,method:e[Z],sync:e[X],url:e[G],status:""}};try{return function(e){if(e.state!==Y){e.state=Y,t(Y,e);var a=e.data.target;o(n),o(r),o("timeout"),o(i),o("abort")}function o(t){a[W](t,function(t){var i=t.type;i===n?4===a.readyState&&0!==a.status&&s(e,"success"):s(e,i===r?"success":i)})}}(c),o.apply(e,a)}catch(t){throw s(c,i),t}}});function s(e,n){e.state!==Q&&(e.state=Q,e.data.status=n,t(Q,e))}}(function(t,e){tM.send(tp,[t,e])}),function(t){if(tP()){var e=window.fetch;window.fetch=function(i,a){var o,s,c=this,u=arguments,f=i instanceof URL;if("string"==typeof i||f)o=new Request(i,a),s=f?o.url:i;else{if(!i)return e.apply(c,u);s=(o=i).url}var d={source:th,state:"",type:"macroTask",data:{target:o,method:o.method,url:s,aborted:!1}};return new v(function(i,a){var s;D.fetchInProgress=!0,d.state=Y,t(Y,d);try{s=e.apply(c,[o])}catch(t){a(t),d.data.error=t,n(d),D.fetchInProgress=!1;return}s.then(function(t){var e=t.clone?t.clone():{};i(t),M(function(){d.data.response=t;var i,a=e.body;a?(i=a.getReader(),function t(){i.read().then(function(e){e.done?n(d):t()},function(t){r(d,t)})}()):n(d)})},function(t){a(t),M(function(){r(d,t)})}),D.fetchInProgress=!1})}}function n(e){e.state=Q,t(Q,e)}function r(t,e){t.data.aborted=e&&"AbortError"===e.name,t.data.error=e,n(t)}}(function(t,e){tM.send(th,[t,e])}),function(t){if(window.history){var e=history.pushState;"function"==typeof e&&(history.pushState=function(n,r,i){t(Q,{source:tv,data:{state:n,title:r,url:i}}),e.apply(this,arguments)})}}(function(t,e){tM.send(tv,[t,e])})),tU.bootstrapTime=A(),tz=!0):m&&console.log("[Elastic APM] platform is not supported!"),tz),e=new ej((ed[tO]=function(t){var e=t.getService([tC,tI]);return new ek(e[0],e[1])},ed[tN]=function(t){var e=t.getService([tL,tI,tC,tO]);return new ep(e[0],e[1],e[2],e[3])},ed[tj]=function(t){var e=t.getService([tL,tI,tO]);return new t7(e[0],e[1],e[2])},new el),!t);return m&&(window.elasticApm=e),e}(),eF=eR.init.bind(eR),eA=eF},26796:function(t,e){var n,r,i;r=[],void 0!==(i="function"==typeof(n=function(){"use strict";function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t,e,n,r,i,a){void 0!==t&&this.setFunctionName(t),void 0!==e&&this.setArgs(e),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==i&&this.setColumnNumber(i),void 0!==a&&this.setSource(a)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(t){this.functionName=String(t)},getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Args must be an Array");this.args=t},getFileName:function(){return this.fileName},setFileName:function(t){this.fileName=String(t)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!t(e))throw TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!t(e))throw TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(t){this.source=String(t)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(t(this.getLineNumber())?":"+this.getLineNumber():"")+(t(this.getColumnNumber())?":"+this.getColumnNumber():"")}},e})?n.apply(e,r):n)&&(t.exports=i)}}]);